<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
  <head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>{{ site.title }}{% if page.title and page.title != "" %} &mdash; {{ page.title }}{% endif %}</title>

    {% if site.description %}<meta name="description" content="{{ site.description }}">{% endif %}  

    <link rel="stylesheet" href="{{ '/assets/css/main.css' | absolute_url }}?{{ site.time | date: '%s%N' }}">

    <link rel="apple-touch-icon" href="{{ site.icon }}">

    {%- if jekyll.environment == 'production' and site.google_analytics -%}
      {%- include google-analytics.html -%}
    {%- endif -%}

  </head>
  <body>

    {% if page.layout == 'home' %}
      <a href="#main" class="skip-navigation">
        Skip to list of posts
      </a>
    {% else %}
      <a href="#main" class="skip-navigation">
        Skip to content
      </a>
    {% endif %}

    {{ content }}

    {% unless site.hide_credits %}
      <aside class="site-credits">
      </aside>
    {% endunless %}

    <!-- Font Size Overlay -->
    <div class="font-size-overlay">
      <div class="font-size-controls">
        <button class="font-size-btn" id="font-decrease" aria-label="Decrease font size">A</button>
        <span class="font-size-display" id="font-size-value">22px</span>
        <button class="font-size-btn" id="font-increase" aria-label="Increase font size">A</button>
      </div>
    </div>

    <script>
      // Font Size Overlay JavaScript
      (function() {
        const rootFontSizeKey = 'root-font-size';
        const defaultFontSize = 22;
        const minFontSize = 14;
        const maxFontSize = 32;
        const step = 2;

        // Get current font size from localStorage or use default
        let currentFontSize = parseInt(localStorage.getItem(rootFontSizeKey)) || defaultFontSize;

        // Apply font size to root element
        function applyFontSize(size) {
          document.documentElement.style.setProperty('--root-font-size', size + 'px');
          document.getElementById('font-size-value').textContent = size + 'px';
          localStorage.setItem(rootFontSizeKey, size.toString());
        }

        // Initialize font size
        applyFontSize(currentFontSize);

        // Event listeners for font size buttons
        document.getElementById('font-decrease').addEventListener('click', function() {
          if (currentFontSize > minFontSize) {
            currentFontSize -= step;
            applyFontSize(currentFontSize);
          }
        });

        document.getElementById('font-increase').addEventListener('click', function() {
          if (currentFontSize < maxFontSize) {
            currentFontSize += step;
            applyFontSize(currentFontSize);
          }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
          if (e.ctrlKey || e.metaKey) {
            if (e.key === '-' || e.key === '=') {
              e.preventDefault();
              if (e.key === '-' && currentFontSize > minFontSize) {
                currentFontSize -= step;
                applyFontSize(currentFontSize);
              } else if (e.key === '=' && currentFontSize < maxFontSize) {
                currentFontSize += step;
                applyFontSize(currentFontSize);
              }
            }
          }
        });
      })();
    </script>

  </body>
</html>
